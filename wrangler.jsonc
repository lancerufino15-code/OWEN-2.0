// Purpose: Wrangler configuration for the OWEN Worker (bindings, assets, envs).
// Used by: `wrangler dev` / `wrangler deploy` to build and run the Worker.
// Assumptions: values here are non-secret defaults; secrets are set via `wrangler secret`.
/**
 * For more details on how to configure Wrangler, refer to:
 * https://developers.cloudflare.com/workers/wrangler/configuration/
 */ {
	"$schema": "node_modules/wrangler/config-schema.json",
	"name": "llm-chat-app-template",
	"main": "src/index.ts",
	"compatibility_date": "2025-10-08",
"compatibility_flags": ["nodejs_compat", "global_fetch_strictly_public"],
"assets": {
    "binding": "ASSETS",
    "directory": "./public"
},
"observability": {
    "enabled": true
},
"ai": {
    "binding": "AI"
},

  "r2_buckets": [
  { "bucket_name": "owen-bucket", "binding": "OWEN_BUCKET" },
  { "bucket_name": "owen-ingest", "binding": "OWEN_INGEST" },
  { "bucket_name": "owen-notes", "binding": "OWEN_NOTES" },
  { "bucket_name": "owen-test", "binding": "OWEN_TEST" },
  { "bucket_name": "owen-uploads", "binding": "OWEN_UPLOADS" },
  { "bucket_name": "own-ingest", "binding": "OWN_INGEST" },
  { "bucket_name": "owen-analytics", "binding": "OWEN_ANALYTICS" }
],
  "kv_namespaces": [
    { "binding": "DOCS_KV", "id": "d678f47eeaf944b1b96313af8fdd15b2" },
    { "binding": "OWEN_DOC_CACHE", "id": "640f9257248b4d7c8ca1a9f6910f124c" },
    { "binding": "OWEN_DIAG_KV", "id": "d678f47eeaf944b1b96313af8fdd15b2" }
  ],
  "vars": {
    "OPENAI_API_BASE": "https://api.openai.com/v1",
    "FACULTY_PASSCODE": "set-me"
  },
	"upload_source_maps": true,
  "env": {
    "production": {
      "ai": {
        "binding": "AI"
      },
      "r2_buckets": [
        { "bucket_name": "owen-bucket", "binding": "OWEN_BUCKET" },
        { "bucket_name": "owen-ingest", "binding": "OWEN_INGEST" },
        { "bucket_name": "owen-notes", "binding": "OWEN_NOTES" },
        { "bucket_name": "owen-test", "binding": "OWEN_TEST" },
        { "bucket_name": "owen-uploads", "binding": "OWEN_UPLOADS" },
        { "bucket_name": "own-ingest", "binding": "OWN_INGEST" },
        { "bucket_name": "owen-analytics", "binding": "OWEN_ANALYTICS" }
      ],
      "kv_namespaces": [
        { "binding": "OWEN_DIAG_KV", "id": "d678f47eeaf944b1b96313af8fdd15b2" },
        { "binding": "OWEN_DOC_CACHE", "id": "set-me" }
      ]
    }
  }
}
